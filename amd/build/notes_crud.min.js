define("report_adv_configlog/notes_crud",["exports","core_form/modalform","core/log","core/config","core/str"],(function(_exports,_modalform,_log,_config,_str){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * report_adv_config monitors cohort concurrency and limits access based on restrictions.
   *
   * @ report_adv_configlog
   * @copyright 2023 Jon Deavers jondeavers@gmail.com
   * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.initForm=void 0,_modalform=_interopRequireDefault(_modalform),_log=_interopRequireDefault(_log),_config=_interopRequireDefault(_config);_exports.initForm=(linkSelector,formClass)=>{document.querySelectorAll(linkSelector).forEach((button=>{button.addEventListener("click",(e=>{e.preventDefault();let limitId=button.dataset.id;_log.default.debug("Limit ID: ".concat(limitId));const form=new _modalform.default({formClass:formClass,args:limitId?{limitid:limitId}:{},modalConfig:{title:limitId?(0,_str.get_string)("editlimit","report_adv_config"):(0,_str.get_string)("createlimit","report_adv_config")},returnFocus:e.currentTarget});form.addEventListener(form.events.FORM_SUBMITTED,(e=>{const response=e.detail;_log.default.debug("Form submitted...");let redirect="".concat(_config.default.wwwroot,"/report/adv_configlog/index.php?"),first=!1;for(let key in response)first?first=!1:redirect+="&",redirect+="".concat(key,"=").concat(response[key]);window.location.assign(redirect)})),form.addEventListener(form.events.LOADED,(()=>{_log.default.debug("Modal form loaded")})),form.addEventListener(form.events.NOSUBMIT_BUTTON_PRESSED,(()=>_log.default.debug("No submit button pressed"))),form.addEventListener(form.events.CLIENT_VALIDATION_ERROR,(()=>_log.default.debug("Client-side validation error"))),form.addEventListener(form.events.SERVER_VALIDATION_ERROR,(()=>_log.default.debug("Server-side validation error"))),form.addEventListener(form.events.ERROR,(e=>_log.default.debug("Oopsie - "+e.detail.message))),form.addEventListener(form.events.SUBMIT_BUTTON_PRESSED,(()=>_log.default.debug("Submit button pressed"))),form.addEventListener(form.events.CANCEL_BUTTON_PRESSED,(()=>_log.default.debug("Cancel button pressed"))),form.show()}))}))}}));

//# sourceMappingURL=notes_crud.min.js.map